<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.dannis.cms.dal.db.MobilePhoneMapper">
	<resultMap id="phoneNumberMap" type="org.dannis.cms.dal.entity.PhoneNumberEntity">
		<id column="id" property="id" jdbcType="INTEGER" />
		<result property="type" column="type" jdbcType="VARCHAR"/>
		<result property="number" column="number" jdbcType="VARCHAR"/>
		<result property="operator" column="operator" jdbcType="VARCHAR"/>
		<result property="attribution" column="attribution" jdbcType="VARCHAR"/>
		<result property="wholesalePrice" column="wholesale_price" jdbcType="FLOAT"/>
		<result property="floorPrice" column="floor_price" jdbcType="FLOAT"/>
		<result property="priority" column="priority" jdbcType="INTEGER" />
		<result property="description" column="description" jdbcType="INTEGER" />
		<result property="status" column="status" jdbcType="VARCHAR" />
		<result property="createdOn" column="created_on" jdbcType="TIMESTAMP"/>
		<result property="createdBy" column="created_by" jdbcType="INTEGER"/>
		<result property="lastModifiedOn" column="last_modified_on" jdbcType="TIMESTAMP"/>
		<result property="lastModifiedBy" column="last_modified_by" jdbcType="INTEGER"/>
	</resultMap>

	<sql id="allColumns">
		id,type,number,operator,attribution,wholesale_price,floor_price,priority,description,status,created_on,created_by,last_modified_on,last_modified_by
	</sql>
	<insert id="save" parameterType="org.dannis.cms.dal.entity.PhoneNumberEntity">
		INSERT INTO t_phone_number(type,number,operator,attribution,wholesale_price,floor_price,priority,description,created_by)
		VALUES (#{type},#{number},#{operator},#{attribution},#{wholesalePrice},#{floorPrice},#{priority},#{description},#{createdBy})
	</insert>

	<insert id="batchSave">
		INSERT INTO t_phone_number(type,number,operator,attribution,wholesale_price,floor_price,priority,description,created_by)
		VALUES
		<foreach collection="list" item="mobilePhone" separator=",">
			(#{mobilePhone.type},#{mobilePhone.number},#{mobilePhone.operator},#{mobilePhone.attribution},
			#{mobilePhone.wholesalePrice},#{mobilePhone.floorPrice},#{mobilePhone.priority},#{mobilePhone.description},
			#{mobilePhone.createdBy})
		</foreach>
	</insert>

	<delete id="delete" parameterType="java.lang.Integer">
		DELETE FROM t_phone_number
		WHERE id = #{id}
	</delete>

	<delete id="deleteByNumber" parameterType="java.lang.String">
		DELETE FROM t_phone_number
		WHERE number = #{number}
	</delete>

	<select id="find" parameterType="java.lang.Integer">
		SELECT <include refid="allColumns"/>
		FROM t_phone_number
		WHEN id = #{id}
	</select>

	<select id="findByNumber" parameterType="java.lang.String">
		SELECT <include refid="allColumns"/>
		FROM t_phone_number
		WHEN number = #{number}
	</select>
</mapper>